@page "/pipeline/configure-icp"
@using Sam.Web.FrontEnd.Blazor.Components;
@using Models
@using Services

@inherits SamPageBase

@inject ISamDataService SamData

<div class="sam-content-inner">
    <div class="d-flex align-items-center justify-content-between flex-sm-row flex-column mt-2 mt-lg-0">
        <PageTitle Text="Configure ICP" />
        <div>
            <Button Text="Search" />
            <Button Text="Add Category" />
        </div>
    </div>

    <div class="mt-4">

        <div class="row">

            <div class="col-md-12 col-lg-6 mb-4">
                <div class="sam-input-group p-4">
                    <div class="d-flex justify-content-between mb-3">
                        <div class="configTitle">
                            <h4>Background</h4>
                        </div>
                        <Button Text="Add Item" />
                        <button Text="Pippo" @onclick="PrintModel" />
                    </div>

                    <EntryRow>
                        <CheckBox Text="Country" @bind-Checked="model.WithCountry" />
                        <DropDownGroup>
                            <DropDown Selectables="@(Countries.Select(country => (country.Id, country.Name)))" @bind-Selected="@model.CountryId" />
                        </DropDownGroup>
                    </EntryRow>

                    @*<EntryRow>
                            <CheckBox Text="Location" />
                            <DropDownGroup>
                                <DropDown Text="Select" />
                            </DropDownGroup>
                        </EntryRow>

                        <EntryRow>
                            <CheckBox Text="Industry" />
                            <DropDownGroup>
                                <DropDown Text="Select" />
                            </DropDownGroup>
                        </EntryRow>

                        <EntryRow>
                            <CheckBox Text="Business Model" />
                            <DropDownGroup>
                                <DropDown Text="Select" />
                            </DropDownGroup>
                        </EntryRow>

                        <EntryRow>
                            <CheckBox Text="Years Established" />
                            <DropDownGroup>
                                <DropDown Text="Select" />
                            </DropDownGroup>
                        </EntryRow>*@
                </div>
            </div>

            <div class="col-md-12 col-lg-6 mb-4">
                <div class="sam-input-group p-4">
                    <div class="d-flex justify-content-between mb-3">
                        <div class="configTitle">
                            <h4>Social</h4>
                        </div>
                        <Button Text="Add Item" />
                    </div>

                    @*<EntryRow>
                            <CheckBox Text="NPS Score" />
                            <DropDownGroup>
                                <DropDown Text="Min" Class="mr-2" />
                                <DropDown Text="Max" Class="mr-2" />
                            </DropDownGroup>
                        </EntryRow>

                        <EntryRow>
                            <CheckBox Text="Linkedin Followers" />
                            <DropDownGroup>
                                <DropDown Text="Min" Class="mr-2" />
                                <DropDown Text="Max" Class="mr-2" />
                            </DropDownGroup>
                        </EntryRow>

                        <EntryRow>
                            <CheckBox Text="Facebook Followers" />
                            <DropDownGroup>
                                <DropDown Text="Min" Class="mr-2" />
                                <DropDown Text="Max" Class="mr-2" />
                            </DropDownGroup>
                        </EntryRow>

                        <EntryRow>
                            <CheckBox Text="Twitter Followers" />
                            <DropDownGroup>
                                <DropDown Text="Min" Class="mr-2" />
                                <DropDown Text="Max" Class="mr-2" />
                            </DropDownGroup>
                        </EntryRow>

                        <EntryRow>
                            <CheckBox Text="Instragram Follwoers" />
                            <DropDownGroup>
                                <DropDown Text="Min" Class="mr-2" />
                                <DropDown Text="Max" Class="mr-2" />
                            </DropDownGroup>
                        </EntryRow>*@
                </div>
            </div>

            <div class="col-md-12 col-lg-6 mb-4">
                <div class="sam-input-group p-4">
                    <div class="d-flex justify-content-between mb-3">
                        <div class="configTitle">
                            <h4>Financial</h4>
                        </div>
                        <Button Text="Add Item" />
                    </div>

                    @*<EntryRow>
                            <CheckBox Text="Market Cap" />
                            <DropDownGroup>
                                <DropDown Text="Min" Class="mr-2" />
                                <DropDown Text="Max" Class="mr-2" />
                            </DropDownGroup>
                        </EntryRow>

                        <EntryRow>
                            <CheckBox Text="Revenue" />
                            <DropDownGroup>
                                <DropDown Text="Min" Class="mr-2" />
                                <DropDown Text="Max" Class="mr-2" />
                            </DropDownGroup>
                        </EntryRow>

                        <EntryRow>
                            <CheckBox Text="Employees" />
                            <DropDownGroup>
                                <DropDown Text="Min" Class="mr-2" />
                                <DropDown Text="Max" Class="mr-2" />
                            </DropDownGroup>
                        </EntryRow>

                        <EntryRow>
                            <CheckBox Text="Financial Year" />
                            <DropDownGroup>
                                <DropDown Text="Select" />
                            </DropDownGroup>
                        </EntryRow>

                        <EntryRow>
                            <CheckBox Text="Stock Price" />
                            <DropDownGroup>
                                <DropDown Text="Select" />
                            </DropDownGroup>
                        </EntryRow>

                        <EntryRow>
                            <CheckBox Text="Credit Rating" />
                            <DropDownGroup>
                                <DropDown Text="Select" />
                            </DropDownGroup>
                        </EntryRow>*@
                </div>
            </div>

            <div class="col-md-12 col-lg-6 mb-4">
                <div class="sam-input-group p-4">
                    <div class="d-flex justify-content-between mb-3">
                        <div class="configTitle">
                            <h4>Technology</h4>
                        </div>
                        <Button Text="Add Item" />
                    </div>

                    @*<EntryRow>
                            <CheckBox Text="ERP" />
                            <DropDownGroup>
                                <DropDown Text="Select" />
                            </DropDownGroup>
                        </EntryRow>

                        <EntryRow>
                            <CheckBox Text="CRM" />
                            <DropDownGroup>
                                <DropDown Text="Select" />
                            </DropDownGroup>
                        </EntryRow>

                        <EntryRow>
                            <CheckBox Text="Financial" />
                            <DropDownGroup>
                                <DropDown Text="Select" />
                            </DropDownGroup>
                        </EntryRow>

                        <EntryRow>
                            <CheckBox Text="Distribution/WH" />
                            <DropDownGroup>
                                <DropDown Text="Select" />
                            </DropDownGroup>
                        </EntryRow>

                        <EntryRow>
                            <CheckBox Text="Help Desk" />
                            <DropDownGroup>
                                <DropDown Text="Select" />
                            </DropDownGroup>
                        </EntryRow>

                        <EntryRow>
                            <CheckBox Text="Database" />
                            <DropDownGroup>
                                <DropDown Text="Select" />
                            </DropDownGroup>
                        </EntryRow>*@
                </div>
            </div>

        </div>
    </div>
</div>

@code {
    IEnumerable<Country> Countries => SamData.Countries;

    void PrintModel()
    {
        var country = model.CountryId == null ? "Unselected" : SamData.Countries.First(c => c.Id == model.CountryId).Name;
        var s = $"WithCountry = {model.WithCountry}, Country = {country}";
        Console.WriteLine(s);
    }
    class Model
    {
        public bool WithCountry { get; set; }
        public string CountryId { get; set; }
    }
    Model model = new Model();
}